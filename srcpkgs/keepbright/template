# Template file for 'keepbright'
pkgname=keepbright
version=0.0.0.lillanes
revision=1
makedepends="git"
make_dirs="/var/lib/keepbright 0755 root root"
short_desc="Simple service to keep monitor brightness across reboot"
maintainer="Le√≥n Illanes <lillanes@cs.toronto.edu>"
license="MIT"
homepage="https://github.com/lillanes/keepbright"
_repository="https://github.com/lillanes/keepbright.git"

do_fetch() {
	git clone ${_repository} ${wrksrc}
}

do_install() {
	vdoc README.md
	vlicense LICENSE

	vmkdir etc/sv/${pkgname}
	vcopy run etc/sv/${pkgname}
	vcopy finish etc/sv/${pkgname}
	chmod 755 ${PKGDESTDIR}/etc/sv/${pkgname}/run
	chmod 755 ${PKGDESTDIR}/etc/sv/${pkgname}/finish

	ln -s /run/runit/supervise.${pkgname} ${PKGDESTDIR}/etc/sv/${pkgname}/supervise
}
